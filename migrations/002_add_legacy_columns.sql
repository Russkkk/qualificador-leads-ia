ALTER TABLE leads ADD COLUMN IF NOT EXISTS client_id TEXT;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS nome TEXT;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS email_lead TEXT;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS telefone TEXT;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS origem TEXT;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS tempo_site INTEGER;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS paginas_visitadas INTEGER;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS clicou_preco INTEGER;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS probabilidade DOUBLE PRECISION;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS virou_cliente DOUBLE PRECISION;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS payload JSONB NOT NULL DEFAULT '{}'::jsonb;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS score INTEGER;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS label INTEGER;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS created_at TIMESTAMPTZ NOT NULL DEFAULT NOW();
ALTER TABLE leads ADD COLUMN IF NOT EXISTS updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW();

ALTER TABLE clients ADD COLUMN IF NOT EXISTS api_key TEXT;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS nome TEXT;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS email TEXT;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS empresa TEXT;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS telefone TEXT;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS valid_until TIMESTAMPTZ;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS password_hash TEXT;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS last_login_at TIMESTAMPTZ;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS plan TEXT NOT NULL DEFAULT 'trial';
ALTER TABLE clients ADD COLUMN IF NOT EXISTS status TEXT NOT NULL DEFAULT 'active';
ALTER TABLE clients ADD COLUMN IF NOT EXISTS usage_month TEXT;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS leads_used_month INTEGER NOT NULL DEFAULT 0;
ALTER TABLE clients ADD COLUMN IF NOT EXISTS created_at TIMESTAMPTZ NOT NULL DEFAULT NOW();
ALTER TABLE clients ADD COLUMN IF NOT EXISTS updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW();
